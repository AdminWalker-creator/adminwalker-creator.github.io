<!DOCTYPE html>
<html>
<head>
<title>Chat â€¢ A_W Community</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <img src="logo.png" class="logo">
    <h1>A_W Community Chat</h1>

    <nav>
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="chat.html">Chat</a>
        <a href="create.html">Create Community</a>
    </nav>
</header>

<section class="box">
    <h2>Global Chat</h2>

    <input type="text" id="username" placeholder="Enter username..." class="input">
    <div id="chatbox" class="chatbox"></div>

    <input type="text" id="message" placeholder="Type message..." class="input">
    <button onclick="sendMessage()" class="btn">Send</button>
</section>

<script src="script.js"></script>

</body>
</html>    const db = getFirestore(app);

    const chatBox = document.getElementById("chat-box");
    const nameInput = document.getElementById("name-input");
    const messageInput = document.getElementById("message-input");
    const sendBtn = document.getElementById("send-btn");

    // Send message
    sendBtn.onclick = async () => {
        const name = nameInput.value.trim();
        const text = messageInput.value.trim();
        if (name === "" || text === "") return;

        await addDoc(collection(db, "messages"), {
            name: name,
            text: text,
            time: serverTimestamp()
        });

        messageInput.value = "";
    };

    // Live update messages
    const q = query(collection(db, "messages"), orderBy("time"));
    onSnapshot(q, (snapshot) => {
        chatBox.innerHTML = "";
        snapshot.forEach((doc) => {
            const msg = doc.data();

            const div = document.createElement("div");
            div.className = "msg";
            div.innerHTML = `
                <div class="username">${msg.name}</div>
                <div>${msg.text}</div>
            `;
            chatBox.appendChild(div);
        });

        chatBox.scrollTop = chatBox.scrollHeight;
    });
</script>

</body>
</html>
